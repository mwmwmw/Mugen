var Mugen=function(t){var n={};function r(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return t[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)r.d(e,u,function(n){return t[n]}.bind(null,u));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=0)}([function(t,n,r){"use strict";r.r(n);var e={};r.r(e),r.d(e,"check",function(){return S}),r.d(e,"countValue",function(){return O}),r.d(e,"sort",function(){return E}),r.d(e,"shuffle",function(){return R}),r.d(e,"getRandom",function(){return m});var u={};r.r(u),r.d(u,"atIndex",function(){return T}),r.d(u,"fromScale",function(){return h}),r.d(u,"identify",function(){return M}),r.d(u,"matchChord",function(){return p}),r.d(u,"bassNote",function(){return A});var o={};r.r(o),r.d(o,"rotateScale",function(){return _}),r.d(o,"SCALE_PATTERNS",function(){return g}),r.d(o,"biggestSemitoneLeap",function(){return y}),r.d(o,"generateSemitonePattern",function(){return D}),r.d(o,"refit",function(){return C}),r.d(o,"generate",function(){return v}),r.d(o,"sum",function(){return V}),r.d(o,"fitsOctave",function(){return b}),r.d(o,"octaveRemainder",function(){return P}),r.d(o,"extractRawSemitonePattern",function(){return H}),r.d(o,"reconstructScale",function(){return L}),r.d(o,"transposeNotes",function(){return j}),r.d(o,"transpose",function(){return k});var c={};r.r(c),r.d(c,"generate",function(){return x}),r.d(c,"filterRandomNotes",function(){return J}),r.d(c,"randomNote",function(){return U}),r.d(c,"mutatePattern",function(){return w});var i={};r.r(i),r.d(i,"generate",function(){return G}),r.d(i,"syncopate",function(){return Y});var l={};r.r(l),r.d(l,"scale",function(){return W}),r.d(l,"progression",function(){return B}),r.d(l,"song",function(){return X}),r.d(l,"part",function(){return F});const a={PENTA:[0,2],TRIAD:[0,2,4],SUS2:[0,1,4],SUS4:[0,3,4],SEVENTH:[0,2,4,6],NINTH:[0,2,4,6,8],ELEVENTH:[0,2,4,6,8,10]},f={MAJOR:[0,4,7],MAJOR_1ST_INVERSION:[0,5,9],MAJOR_2ND_INVERSION:[0,3,8],MINOR:[0,3,7],MINOR_1ST_INVERSION:[0,4,9],MINOR_2ND_INVERSION:[0,5,8],DIMINISHED:[0,3,6],DIMINISHED_1ST_INVERSION:[0,3,9],DIMINISHED_2ND_INVERSION:[0,6,9],AUGMENTED:[0,4,8]},d={"I IV V V":[0,3,4,4],"I I IV V":[0,0,3,4],"I VI IV V":[0,5,3,4],"V IV I I":[4,3,0,0],CANNON:[0,4,5,2,3,0,3,4]},I=[2,2,1,2,2,2,1],N={WESTERN:7,PENTATONIC:5,HEXATONIC:6},s={A:"A",B:"B",C:"C",INTRO:"INTRO",OUTRO:"OUTRO"},S=t=>Math.random()<t,O=(t,n=!0,r=0)=>t.reduce((t,r)=>r===n?t+1:t,r),E=(t,n)=>t-n,R=t=>{let n=t.slice();for(var r,e,u=n.length;u;)e=Math.floor(Math.random()*u--),r=n[u],n[u]=n[e],n[e]=r;return n},m=t=>t[Math.floor(Math.random()*t.length)],T=(t,n,r=a.TRIAD)=>{let e=[];return r.map(r=>{e.push(n[(t+r)%n.length])}),e},h=(t,n=a.TRIAD)=>{let r=[];return t.map((e,u)=>{r.push(T(u,t,n))}),r},M=t=>{let n=Object.keys(CHORD_IDENTITIES),r=t.slice().sort(E);return n.filter(t=>{let n=CHORD_IDENTITIES[t].slice();return p(r,n)})},p=(t,n=f.MAJOR)=>{let r=t[0];return n.filter((n,e)=>n===t[e]-r).length===n.length},A=(t,n=-24)=>t.sort(E)[0]+n,_=(t,n)=>{let r=t.slice();return r.splice(n,r.length).concat(r.splice(0,n))},g={CHROMATIC:[1,1,1,1,1,1,1,1,1,1,1,1],MAJOR:I,DORIAN:_(I,1),PHYGIAN:_(I,2),LYDIAN:_(I,3),MYXOLYDIAN:_(I,4),MINOR:_(I,5),LOCRIAN:_(I,6),PENTA:[2,3,2,2,3]},y=(t=N.WESTERN,n=0,r=12)=>r-n-t+1,D=(t=N.WESTERN,n=12)=>{let r=new Array(t).fill(1);for(;V(r)<n;)r=r.map(t=>S(.5)?t+1:t);return C(r)},C=(t,n=12)=>{for(var r=0;V(t)!=n;)t[r=Math.floor(Math.random()*t.length)]>1&&(V(t)>n?t[r]--:t[r]++);return t},v=(t,n=60,r=24)=>{let e=[];for(let u=0;u<r;u++){e.push(n),n+=t[u%t.length]}return e},V=t=>t.reduce((t,n)=>t+n),b=t=>V(t)%12==0,P=t=>V(t)%12,H=t=>{let n=t.slice().sort(E);return n.map((t,r)=>{if(r+1<n.length)return n[r+1]-t}).filter(t=>void 0!=t)},L=t=>{},j=(t,n)=>{return t.slice().map(t=>k(t,n))},k=(t,n)=>t+n,x=(t,n,r=16)=>{let e=-1;return new Array(r).fill(null).map((u,o)=>{let c=o/r,i=Math.random();return i>c?e++:i<.33333?e--:e=getRandom(t),e<0&&(e+=t.length),n[o%n.length]?t[e%t.length]:null})},J=(t,n=.5)=>t.filter(t=>S(n)),U=t=>{return t[Math.floor(Math.random()*t.length)]},w=(t,n)=>{let r=t.slice();return r.map((t,e)=>S(e/r.length)?r[e]:n[Math.floor(Math.random()*n.length)]),r},G=(t=4,n=4)=>{let r=new Array(t*n).fill(0);return r.map((n,e)=>{let u=1/(e%t+1);r[e]=S(u)}),r},Y=t=>{t.slice().map(t=>t?!t:S(Math.random()))},W=(t=60,n=2,r=I)=>v(r,t,12*n),B=(t=W())=>{let n=Object.keys(CHORD_PROGREsSSIONS),r=d[m(n)],e=h(t);return r.map(t=>e[t])},X=(t=W(),n=4,r=4,e=s)=>{let u=G(n,r),o=(Y(u),Object.keys(e),B(t)),c=(A(o),O(u,!0),n*r),i=pickMelodyNotes(W),l=(melody.generate(i,c,u),melody.generate(i,c,u),pickMelodyNotes(t));melody.generate(l,4*c,u,-5);return[]},F=({chords:t,bass:n,rhythm:r})=>[1];r.d(n,"make",function(){return l}),r.d(n,"chord",function(){return u}),r.d(n,"scale",function(){return o}),r.d(n,"utils",function(){return e}),r.d(n,"melody",function(){return c}),r.d(n,"rhythm",function(){return i}),r.d(n,"CHORD_SEMITONE_PATTERNS",function(){return f}),r.d(n,"CHORD_SCALE_PATTERNS",function(){return a}),r.d(n,"SEMITONES_IN_OCTAVE",function(){return 12}),r.d(n,"MIDI_MIDDLE_C",function(){return 60}),r.d(n,"DEFAULT_SCALE_RANGE",function(){return 24}),r.d(n,"MAJOR",function(){return I}),r.d(n,"SCALE_SIZE_IN_STEPS",function(){return N}),r.d(n,"SONG_PARTS",function(){return s}),r.d(n,"SCALE_PATTERNS",function(){return g})}]);
//# sourceMappingURL=main.js.map